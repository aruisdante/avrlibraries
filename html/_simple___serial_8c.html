<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Simple_Serial.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.2 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Simple_Serial.c File Reference</h1>
<p>Provide a simple serial protocol utilizing USART0.  
<a href="#_details">More...</a></p>
<code>#include &lt;avr/io.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="_simple___serial_8h_source.html">Simple_Serial.h</a>&quot;</code><br/>
<code>#include &lt;avr/delay.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_simple___serial_8c.html#a6ebe466e477d394ca5bb309b35b6bc39">FCLK</a>&nbsp;&nbsp;&nbsp;18432</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_simple___serial_8c.html#a14c119d92e2babc3667a7f8679d45613">Init_Serial_P</a> (unsigned int baud, unsigned char frameSize, unsigned char stopBits, unsigned char parity)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize USART0 for asynchronous serial communications, polling.  <a href="#a14c119d92e2babc3667a7f8679d45613"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_simple___serial_8c.html#aa14c9be399ffca0ef488f27e7c2179a7">Init_Serial_I</a> (unsigned int baud, unsigned char frameSize, unsigned char stopBits, unsigned char parity)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize USART0 for asynchronous serial communications, interrupts.  <a href="#aa14c9be399ffca0ef488f27e7c2179a7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_simple___serial_8c.html#a81a5d3f3c6948af1a028de8ac2e120c3">Serial_Print_Char</a> (unsigned char data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print a single character to the serial port.  <a href="#a81a5d3f3c6948af1a028de8ac2e120c3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_simple___serial_8c.html#ae123269f79a6a760eea5ae15bbbce446">Serial_Read_Char</a> (unsigned char *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a single character from the serial port.  <a href="#ae123269f79a6a760eea5ae15bbbce446"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_simple___serial_8c.html#abd8d1916742de9b32d00f5d7e16487cb">Serial_Print_String</a> (char *string)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print a string of chars to the serial port.  <a href="#abd8d1916742de9b32d00f5d7e16487cb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_simple___serial_8c.html#a7673494a2c6fccf946e00867cda2083e">Serial_Print_Int</a> (int data, int base)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print an int to the serial port.  <a href="#a7673494a2c6fccf946e00867cda2083e"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Provide a simple serial protocol utilizing USART0. </p>
<p>This source file contains a library of functions to provide simple serial communications (Char/String out, Char/String in), utilizing either polling or interrupt based transmission handling. It uses a single USART for communications, USART0</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Adam Panzica </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>19-Jan-2009 </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.0 Initial version with fixed parameters for initialization functions, Print_Char(), Print_String(), Read_Char() </dd>
<dd>
1.1 Modified initialization functions to allow for adjustable setup parameters. </dd>
<dd>
1.2 Added Print_Int() </dd></dl>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a6ebe466e477d394ca5bb309b35b6bc39"></a><!-- doxytag: member="Simple_Serial.c::FCLK" ref="a6ebe466e477d394ca5bb309b35b6bc39" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FCLK&nbsp;&nbsp;&nbsp;18432</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>clock frequency of the AVR in MHz/100 </p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aa14c9be399ffca0ef488f27e7c2179a7"></a><!-- doxytag: member="Simple_Serial.c::Init_Serial_I" ref="aa14c9be399ffca0ef488f27e7c2179a7" args="(unsigned int baud, unsigned char frameSize, unsigned char stopBits, unsigned char parity)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char Init_Serial_I </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>baud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>frameSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>stopBits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>parity</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize USART0 for asynchronous serial communications, interrupts. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>baud</em>&nbsp;</td><td>Baudrate for serial communications </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>frameSize</em>&nbsp;</td><td>number of data bits (5-9), defaults to 8 if parameter is out of bounds </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>stopBits</em>&nbsp;</td><td>number of stop bits (1-2), defaults to 1 if parameter is out of bounds </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>parity</em>&nbsp;</td><td>1 if even parity is desired, 2 if odd parity is desired, 0 for no parity, defaults to no parity if parameter is out of bounds </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if success, else 0 if there was still data in RXX/TX buffers, preventing a change to USART parameters</dd></dl>
<p>This function initializes USART0 for asynchronous serial communications by setting the appropriate enable and control registers In this mode, the RX and TX buffers generate interrupts </p>

</div>
</div>
<a class="anchor" id="a14c119d92e2babc3667a7f8679d45613"></a><!-- doxytag: member="Simple_Serial.c::Init_Serial_P" ref="a14c119d92e2babc3667a7f8679d45613" args="(unsigned int baud, unsigned char frameSize, unsigned char stopBits, unsigned char parity)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char Init_Serial_P </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>baud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>frameSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>stopBits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>parity</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize USART0 for asynchronous serial communications, polling. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>baud</em>&nbsp;</td><td>Baudrate for serial communications </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>frameSize</em>&nbsp;</td><td>number of data bits (5-9), defaults to 8 if parameter is out of bounds </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>stopBits</em>&nbsp;</td><td>number of stop bits (1-2), defaults to 1 if parameter is out of bounds </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>parity</em>&nbsp;</td><td>1 if even parity is desired, 2 if odd parity is desired, 0 for no parity, defaults to no parity if parameter is out of bounds </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if success, else 0 if there was still data in RXX/TX buffers, preventing a change to USART parameters</dd></dl>
<p>This function initializes USART0 for asynchronous serial communications by setting the appropriate enable and control registers In this mode, the RX and TX buffers do not generate interrupts, and thus must be polled to receive information </p>

</div>
</div>
<a class="anchor" id="a81a5d3f3c6948af1a028de8ac2e120c3"></a><!-- doxytag: member="Simple_Serial.c::Serial_Print_Char" ref="a81a5d3f3c6948af1a028de8ac2e120c3" args="(unsigned char data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char Serial_Print_Char </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Print a single character to the serial port. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>char to be sent to the serial port </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if success, else 0</dd></dl>
<p>This function prints a single character to the serial port utilizing USART0 </p>

</div>
</div>
<a class="anchor" id="a7673494a2c6fccf946e00867cda2083e"></a><!-- doxytag: member="Simple_Serial.c::Serial_Print_Int" ref="a7673494a2c6fccf946e00867cda2083e" args="(int data, int base)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char Serial_Print_Int </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>base</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Print an int to the serial port. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>integer to be printed to the serial port </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>base</em>&nbsp;</td><td>base to use for int to string conversion (2,10,16, etc) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if success, else 0</dd></dl>
<p>This function prints a single int to the serial port utilizing USART0 </p>

</div>
</div>
<a class="anchor" id="abd8d1916742de9b32d00f5d7e16487cb"></a><!-- doxytag: member="Simple_Serial.c::Serial_Print_String" ref="abd8d1916742de9b32d00f5d7e16487cb" args="(char *string)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char Serial_Print_String </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>string</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Print a string of chars to the serial port. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>string*</em>&nbsp;</td><td>pointer to the location of a null terminated string </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if success, else 0</dd></dl>
<p>This function reads a single character from the serial port utilizing USART0 </p>

</div>
</div>
<a class="anchor" id="ae123269f79a6a760eea5ae15bbbce446"></a><!-- doxytag: member="Simple_Serial.c::Serial_Read_Char" ref="ae123269f79a6a760eea5ae15bbbce446" args="(unsigned char *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char Serial_Read_Char </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read a single character from the serial port. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>data*</em>&nbsp;</td><td>pointer to the location to score the red byte from the serial port </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if success, else 0</dd></dl>
<p>This function reads a single character from the serial port utilizing USART0 </p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.2 </small></address>
</body>
</html>
